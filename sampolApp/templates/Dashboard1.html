{% extends "base.html" %}
{% load static %}
{% block content %}
<!-- USER DETAILS -->
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<br>
<div id="Features" style="background-color: black;">
    <div class="container" >
        <h1 class="our_text" style="font-weight: 700; ">User <span style="color: #FED000 ;">Details</span></h1>
    </div>
</div>

<center>       
<table id="example" class="styled-table" style="width:80%;" > 
    <thead>
        <tr>
                <th data-sortable="true">User ID</th>
                <th data-sortable="true">First Name</th>
                <th data-sortable="true">Last Name</th>
                <th data-sortable="true">Username</th>
                <th data-sortable="true">Password</th>
                <th>Email</th>
                <th>ACTION</th>
        </tr>
    </thead>
    <tbody>              
        {% for us in user %}   

        <tr>

            <td>{{ us.id }}</td>   
            <td>{{ us.fname }}</td>  
            <td>{{ us.lname }}</td>  
            <td>{{ us.Uname }}</td>
            <td>{{ us.Pass }}</td>
            <td>{{ us.email }}</td>
            <td>
                <a type="button" class="btn btn-secondary" href="#" data-toggle="modal" data-target="#newModal-{{us.id}}">VIEW</a>

                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal-{{us.id}}" style="background-color: #800000; border: none;">
                    DELETE
                </button>
            </td>
        </tr>

                <!-- Modal VIEW -->

        <div class="modal fade" id="newModal-{{us.id}}" tabindex="-1" role="dialog" aria-labelledby="newModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="background-color:#800000 ; color: #ffffff;">
                      <h5 class="modal-title">VIEW DETAILS</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    
                    <form id="updateForm" method="post" >
                        {% csrf_token %}
                        <div class="modal-body">
                            <input type="text" name="user-id" value = {{us.id}} hidden>
                            <div class="row">
                                <div class="col-12" id="startup-tab-1">
                                    <div class = "row">
                                        <div class = "col-sm-6">
                                            <label>First Name</label>
                                            <input type="text" class="form-control" id="id-bookName" placeholder="Destination"  name="user-fname" value ={{us.fname}}>
                                        </div>
                                    </div>

                                    <div class = "col-sm-6">
                                        <label>Last Name</label>
                                        <input type="text" class="form-control" id="id-bookDate" placeholder="Date"  name="user-lname" value ={{us.lname}}>
                                    </div>
                                </div>
                                <div class = "row">
                                    <div class = "col-sm-6">
                                        <label>Username</label>
                                        <input type="text" class="form-control" id="id-noChildren" placeholder="Number of Children"  name="user-Uname" value ={{us.Uname}}>
                                    </div>
                                    <div class = "col-sm-6">
                                        <label>Password</label>
                                        <input type="text" class="form-control" id="id-add-city" placeholder="Number of Adult"  name="user-Pass" value ={{us.Pass}}>
                                    </div>
                                </div>
                                <div class = "row">
                                    <div class = "col-sm-6">
                                        <label>Email</label>
                                        <input type="text" class="form-control" id="id-bdate" name="user-email" value = {{us.email}}>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    </form>

                    <div class="modal-footer">  
                        <button class="btn btn-secondary"   type="submit" id = "btnUpdate" name = "btnUpdate" class="button">UPDATE</button>                                  
                        <button class="btn btn-primary" type="button" class="button btn-secondary" data-dismiss="modal">CLOSE</button>                          
                    </div>
                </div>
                
            </div>
        </div>

                <!-- Modal DELETE -->

        <div class="modal fade" id="exampleModal-{{us.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header" style="background-color:#800000">
                      <h5 class="modal-title">DELETE RECORD</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <form id="deleteForm" method="post" >
                        {% csrf_token %} 
                        <div class="modal-body">                       
                            <input type="text" name="uuser-id" value = {{us.id}} hidden>
                            Are you sure you want to delete this record?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">NO</button>
                            <button type="submit" id = "btnDelete" name = "btnDelete" class="btn btn-primary">YES</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>


            {% endfor %}
    </tbody>
</table>
</center>

<!-- Registration DETAILS -->

<br>

<div id="Features" style="background-color: black;">
  <div class="container" >
    <h1 class="our_text" style="font-weight: 700; ">Registration <span style="color: #FED000 ;">Details</span></h1>
  </div>
</div>

  
<center>
  <table id="example" class="styled-table" style="width:80%" >
    <thead>
        <tr>
          <th data-sortable="true">Registration ID</th>
          <th data-sortable="true">ID Number</th>
          <th data-sortable="true">First Name</th>
          <th data-sortable="true">Plate Number</th>
          <th data-sortable="true">Vehicle Type</th>
          <th>ACTION</th>
        </tr>
    </thead>
  <tbody>              
    {% for reg in registrations %}   
      <tr>
        <td>{{ reg.id }}</td>   
        <td>{{ reg.ID_Number }}</td>  
        <td>{{ reg.fName }}</td>  
        <td>{{ reg.plateNum }}</td>
        <td>{{ reg.vType }}</td>
        <td>
            <a type="button" class="btn btn-secondary" href="#" data-toggle="modal" data-target="#newModal-{{reg.id}}">VIEW</a>

            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal-{{reg.id}}" style="background-color: #800000; border: none;">
              DELETE
            </button>
            <a type="button" class="btn btn-secondary" href="getQr/{{reg.id}}">QR</a>
        </td>
      </tr>

          <!-- Modal VIEW -->

      <div class="modal fade" id="newModal-{{reg.id}}" tabindex="-1" role="dialog" aria-labelledby="newModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header" style="background-color:#800000 ; color: #ffffff;">
              <h5 class="modal-title">VIEW DETAILS</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form id="updateForm" method="post" >
              {% csrf_token %}
              <div class="modal-body">
                <input type="text" name="reg-id" value = {{reg.id}} hidden>
                <div class="row">
                  <div class="col-12" id="startup-tab-1">
                    <div class = "row">

                      <div class = "col-sm-6">
                        <label>Student ID</label>
                        <input type="text" class="form-control" id="id-bookName" placeholder="Destination"  name="reg-ID_Number" value ={{reg.ID_Number}}>
                      </div>

                      <div class = "col-sm-6">
                        <label>First Name</label>
                        <input type="text" class="form-control" id="id-bookDate" placeholder="Date"  name="reg-fName" value ={{reg.fName}}>
                      </div>
                    </div>
                    <div class = "row">
                      <div class = "col-sm-6">
                        <label>Plate Number</label>
                        <input type="text" class="form-control" id="id-noChildren" placeholder="Number of Children"  name="reg-plateNum" value ={{reg.plateNum}}>
                      </div>
                      <div class = "col-sm-6">
                        <label>Vehicle Type</label>
                        <input type="text" class="form-control" id="id-add-city" placeholder="Number of Adult"  name="reg-vType" value ={{reg.vType}}>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">  
                  <button class="btn btn-secondary"   type="submit" id = "btnUpdate2" name = "btnUpdate2" class="button">UPDATE</button>                                  
                  <button class="btn btn-primary" type="button" class="button btn-secondary" data-dismiss="modal">CLOSE</button>                          
              </div>
            </form>
          </div>
        </div>
      </div>

          <!-- Modal DELETE -->

      <div class="modal fade" id="exampleModal-{{reg.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header" style="background-color:#800000">
              <h5 class="modal-title">DELETE RECORD</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form id="deleteForm" method="post" >
              {% csrf_token %} 
              <div class="modal-body">                       
                <input type="text" name="rreg-id" value = {{reg.id}} hidden>
                Are you sure you want to delete this record?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">NO</button>
                <button type="submit" id = "btnDelete2" name = "btnDelete2" class="btn btn-primary">YES</button>
              </div>
            </form>
          </div>
        </div>
      </div>


      {% endfor %}
  </tbody>
</table>
</center>
  {% endblock content %}

         


   
    

  <script src="js/jquery.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/jquery.min.js' %}" type="text/javascript"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/jquery-migrate-3.0.1.min.js' %}" type="text/javascript"></script>
  <script src="js/popper.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/popper.min.js' %}" type="text/javascript"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/bootstrap.min.js' %}" type="text/javascript"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/jquery.easing.1.3.js' %}" type="text/javascript"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/jquery.waypoints.min.js' %}" type="text/javascript"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/jquery.stellar.min.js' %}" type="text/javascript"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/owl.carousel.min.js' %}" type="text/javascript"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/jquery.magnific-popup.min.js' %}" type="text/javascript"></script>
  <script src="js/aos.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/aos.js' %}" type="text/javascript"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/jquery.animateNumber.min.js' %}" type="text/javascript"></script>
  <script src="js/scrollax.min.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/scrollax.min.js' %}" type="text/javascript"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/google-map.js' %}" type="text/javascript"></script>
  
  <script src="js/main.js"></script>
  <script src="{%static 'myapp1/ecoland-master/js/main.js' %}" type="text/javascript"></script>